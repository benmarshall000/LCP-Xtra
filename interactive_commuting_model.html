<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Bokeh Plot</title>
    <style>
      html, body {
        box-sizing: border-box;
        display: flow-root;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.8.0.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.8.0.min.js"></script>
<script type="text/javascript">
Bokeh.set_log_level("info");
</script>
  </head>
  <body>
    <div id="b08b3718-8f65-48f0-ae54-2cfa92f7bc5d" data-root-id="p1142" style="display: contents;"></div>
  
    <script type="application/json" id="fcf70b82-2a71-470b-b09f-ba89034bf682">
      {"3d4c7838-d8b9-47d5-a027-fc12bcce2791":{"version":"3.8.0","title":"Bokeh Application","config":{"type":"object","name":"DocumentConfig","id":"p1145","attributes":{"notifications":{"type":"object","name":"Notifications","id":"p1146"}}},"roots":[{"type":"object","name":"Column","id":"p1142","attributes":{"children":[{"type":"object","name":"Row","id":"p1141","attributes":{"children":[{"type":"object","name":"Figure","id":"p1018","attributes":{"height":500,"x_range":{"type":"object","name":"DataRange1d","id":"p1019"},"y_range":{"type":"object","name":"DataRange1d","id":"p1020","attributes":{"start":0,"end":1}},"x_scale":{"type":"object","name":"LinearScale","id":"p1028"},"y_scale":{"type":"object","name":"LinearScale","id":"p1029"},"title":{"type":"object","name":"Title","id":"p1021","attributes":{"text":"Logistic Model: Commuting Probability vs Travel Time"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1059","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1006","attributes":{"selected":{"type":"object","name":"Selection","id":"p1007","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1008"},"data":{"type":"map","entries":[["t",{"type":"ndarray","array":{"type":"bytes","data":"H4sIAAEAAAAC/03Lt61QURAE0AkJCQgICBBCCCGE8B7+xXvv/cV7athSXilbyiuBEgj+Cdjk7Gg0yf/3d8MzNtnCrdzG7dzBndzF3dzDvdzH/TzAgzzEwzzCozzG4zzBkzzF0zzDszzH89zg2LSYCzJzUWYuycxlmbkiM1dl5prMXJeZGzJzU2ZuycxtmbkjM3dl5p7M3N90sNjMAz2LzTzUs9jMIz2LzTzWs9jMEz2LzTzVs9jMMz2LzTzXs9jMCz2LzbzUs9jMKz2LzbzWs9jMGz2LzbzVs9jMOz2LzcxNd3JwsriwuTLv7Tk4WVzYXJkP9hycLC5srsxHew5OFhc2V+aTPQcniwubK/PZnoOTxYXNlfliz8HJ4sLmyny15+BkcWFzZb7Zc3CyuLC5Mt/tOThZXNhcmR/2HJwsLmyuzE97Dk4WFzZX5pc9ByeLC5sr89ueg5PFhc2V+TP+AZEGXZGIBwAA"},"shape":[241],"dtype":"float64","order":"little"}],["p",{"type":"ndarray","array":{"type":"bytes","data":"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"},"shape":[241],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1060","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1061"}}},"glyph":{"type":"object","name":"Line","id":"p1056","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"p"},"line_color":"#E93F6F","line_width":3}},"nonselection_glyph":{"type":"object","name":"Line","id":"p1057","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"p"},"line_color":"#E93F6F","line_alpha":0.1,"line_width":3}},"muted_glyph":{"type":"object","name":"Line","id":"p1058","attributes":{"x":{"type":"field","field":"t"},"y":{"type":"field","field":"p"},"line_color":"#E93F6F","line_alpha":0.2,"line_width":3}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1027","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1040"},{"type":"object","name":"WheelZoomTool","id":"p1041","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1042","attributes":{"dimensions":"both","overlay":{"type":"object","name":"BoxAnnotation","id":"p1043","attributes":{"syncable":false,"line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","handles":{"type":"object","name":"BoxInteractionHandles","id":"p1049","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1048","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}}}},{"type":"object","name":"SaveTool","id":"p1050"},{"type":"object","name":"ResetTool","id":"p1051"},{"type":"object","name":"HelpTool","id":"p1052"}]}},"toolbar_location":"above","left":[{"type":"object","name":"LinearAxis","id":"p1035","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1036","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1037"},"axis_label":"Predicted proportion commuting","major_label_policy":{"type":"object","name":"AllLabels","id":"p1038"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1030","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1031","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1032"},"axis_label":"Travel time (minutes)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1033"}}}],"center":[{"type":"object","name":"Grid","id":"p1034","attributes":{"axis":{"id":"p1030"}}},{"type":"object","name":"Grid","id":"p1039","attributes":{"dimension":1,"axis":{"id":"p1035"}}}]}},{"type":"object","name":"Column","id":"p1140","attributes":{"children":[{"type":"object","name":"Figure","id":"p1062","attributes":{"width":700,"height":700,"x_range":{"type":"object","name":"DataRange1d","id":"p1064"},"y_range":{"type":"object","name":"FactorRange","id":"p1072","attributes":{"factors":["Blackpool","Rhyl","Prestatyn","Colne","Tredegar","Fishguard","Nelson","Pwllheli","Ebbw Vale","Machynlleth","Hartlepool","Mountain Ash","Wansbeck","Accrington","Cardigan","Workington","Bargoed","Newtown","Whitehaven","Bishop Auckland","Ashington","Caernarfon","Burnley","Merthyr Tydfil","Blyth","Milford Haven","Blackwood","Morecambe","Welshpool","Consett","Darwen","Bangor","Aberdare","Brecon","Blackburn","Aberystwyth","Haverfordwest","Barrow-in-Furness","Llandudno","Caerphilly","Penrith","Pontypridd","Carlisle","Abergavenny","Lancaster","Darlington","Hexham","Preston","Cramlington","Durham"]}},"x_scale":{"type":"object","name":"LinearScale","id":"p1073"},"y_scale":{"type":"object","name":"CategoricalScale","id":"p1074"},"title":{"type":"object","name":"Title","id":"p1065","attributes":{"text":"Salary Impact of City Commuting"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1104","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1015","attributes":{"selected":{"type":"object","name":"Selection","id":"p1016","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1017"},"data":{"type":"map","entries":[["x0",[29500,29800,30200,30200,30200,30200,30500,30500,30500,30500,30500,30800,30800,30800,30800,30800,31000,31000,31000,31200,31200,31200,31200,31200,31500,31500,31500,31500,31800,31800,31800,31800,31800,32000,32000,32000,32200,32200,32500,32500,32800,33000,33000,33200,33200,33500,33800,33800,34200,34500]],["x1",[30389.87312248539,30364.110660225073,30605.697063862965,30684.480333270716,30650.479211435333,30287.743267968664,31014.614415183205,30620.86610551857,30975.868288811704,30636.810388003596,30758.928271977293,31301.42436007326,31572.764556991075,31448.525975345685,30898.77927628591,30875.885540268166,31769.293160103218,31158.407046598237,31057.774257972673,31475.243498125532,31973.953101000825,31389.804597211005,31858.702944061188,31705.49739254311,32304.1211471085,31587.7212843644,32240.398465699178,31701.28054085656,31931.792318273845,32101.509251832507,31870.729073081577,31977.5436383486,32265.625041828647,32146.19491668609,32672.229554001235,32047.6385893728,32276.84079386303,32259.473446956144,32771.359270316294,33170.245510597844,32875.68722361383,33451.66425615768,33056.844183927235,33404.101874542706,33315.03410448181,33724.124673957594,33959.27817896408,34164.42461500165,34502.66331354266,34649.902874972926]],["y0",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]],["y1",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]],["color",["#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200","#F39200"]]]}}},"view":{"type":"object","name":"CDSView","id":"p1105","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1106"}}},"glyph":{"type":"object","name":"Segment","id":"p1101","attributes":{"x0":{"type":"field","field":"x0"},"y0":{"type":"field","field":"y0"},"x1":{"type":"field","field":"x1"},"y1":{"type":"field","field":"y1"},"line_color":{"type":"field","field":"color"},"line_alpha":{"type":"value","value":0.6},"line_width":{"type":"value","value":2}}},"nonselection_glyph":{"type":"object","name":"Segment","id":"p1102","attributes":{"x0":{"type":"field","field":"x0"},"y0":{"type":"field","field":"y0"},"x1":{"type":"field","field":"x1"},"y1":{"type":"field","field":"y1"},"line_color":{"type":"field","field":"color"},"line_alpha":{"type":"value","value":0.1},"line_width":{"type":"value","value":2}}},"muted_glyph":{"type":"object","name":"Segment","id":"p1103","attributes":{"x0":{"type":"field","field":"x0"},"y0":{"type":"field","field":"y0"},"x1":{"type":"field","field":"x1"},"y1":{"type":"field","field":"y1"},"line_color":{"type":"field","field":"color"},"line_alpha":{"type":"value","value":0.2},"line_width":{"type":"value","value":2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1113","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1009","attributes":{"selected":{"type":"object","name":"Selection","id":"p1010","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1011"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"H4sIAAEAAAAC/7MpZmDIKGFg+FGKilXKMXFABSaWqETgB1gwTzUqtqjBxAy1CHwCir/UQbBCAwPDCyje0AjBd5oYGDhaIHhGKwPDkTYGBgA+B7G3yAAAAA=="},"shape":[50],"dtype":"int32","order":"little"}],["y",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]],["town",{"type":"ndarray","array":["Blackpool","Rhyl","Prestatyn","Colne","Tredegar","Fishguard","Nelson","Pwllheli","Ebbw Vale","Machynlleth","Hartlepool","Mountain Ash","Wansbeck","Accrington","Cardigan","Workington","Bargoed","Newtown","Whitehaven","Bishop Auckland","Ashington","Caernarfon","Burnley","Merthyr Tydfil","Blyth","Milford Haven","Blackwood","Morecambe","Welshpool","Consett","Darwen","Bangor","Aberdare","Brecon","Blackburn","Aberystwyth","Haverfordwest","Barrow-in-Furness","Llandudno","Caerphilly","Penrith","Pontypridd","Carlisle","Abergavenny","Lancaster","Darlington","Hexham","Preston","Cramlington","Durham"],"shape":[50],"dtype":"object","order":"little"}],["salary",["\u00a329,500","\u00a329,800","\u00a330,200","\u00a330,200","\u00a330,200","\u00a330,200","\u00a330,500","\u00a330,500","\u00a330,500","\u00a330,500","\u00a330,500","\u00a330,800","\u00a330,800","\u00a330,800","\u00a330,800","\u00a330,800","\u00a331,000","\u00a331,000","\u00a331,000","\u00a331,200","\u00a331,200","\u00a331,200","\u00a331,200","\u00a331,200","\u00a331,500","\u00a331,500","\u00a331,500","\u00a331,500","\u00a331,800","\u00a331,800","\u00a331,800","\u00a331,800","\u00a331,800","\u00a332,000","\u00a332,000","\u00a332,000","\u00a332,200","\u00a332,200","\u00a332,500","\u00a332,500","\u00a332,800","\u00a333,000","\u00a333,000","\u00a333,200","\u00a333,200","\u00a333,500","\u00a333,800","\u00a333,800","\u00a334,200","\u00a334,500"]]]}}},"view":{"type":"object","name":"CDSView","id":"p1114","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1115"}}},"glyph":{"type":"object","name":"Scatter","id":"p1110","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":8},"line_color":{"type":"value","value":"#E93F6F"},"line_alpha":{"type":"value","value":0.7},"fill_color":{"type":"value","value":"#E93F6F"},"fill_alpha":{"type":"value","value":0.7},"hatch_color":{"type":"value","value":"#E93F6F"},"hatch_alpha":{"type":"value","value":0.7}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1111","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":8},"line_color":{"type":"value","value":"#E93F6F"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#E93F6F"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#E93F6F"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1112","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":8},"line_color":{"type":"value","value":"#E93F6F"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#E93F6F"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#E93F6F"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1122","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1012","attributes":{"selected":{"type":"object","name":"Selection","id":"p1013","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1014"},"data":{"type":"map","entries":[["x",{"type":"ndarray","array":{"type":"bytes","data":"H4sIAAEAAAAC/wGQAW/+CiI94Xet3UDqnw4VB6fdQKq/sZxs491AOsLHvR733UCocGarnu7dQGXQs5Hvk91Agg+UUqdJ3kBJ10VuN+fdQHA8C5L3P95AIaVl3TPr3UAR3s5ouwneQBgntyhbkd5AJnKA7jDV3kAOf5SpIbbeQKKkqd+xLN5AxBaxrPgm3kD0lyLDUgbfQNgsDQ2abd5A009xjXFU3kBzKXmVz7zeQBVXm/98Od9A7kyFfnOn3kBuFgn9rBzfQHyIR9Vf9t5AQc3fwAeM30AO5YUp7tjeQKNGdoAZfN9AB6Nh9FH13kCMtFe18i7fQIP/lJdgWd9AcSQiqa4f30AGgPjKYjrfQCtxrwBogt9ADdaDeYxk30D+QwOxDujfQPD1pd7oS99AGRCRzzWF30BCdvRM3oDfQF12JH9rAOBAkgo520cy4EBOYLz9dQ3gQC0hlkF1VeBA6QKOAxsk4ECnZo5Cg0/gQEFIYhdhROBAUT1U/YN34EAlktfm6JTgQC8zcpaNruBAl1LdOdXY4EAjDlrkPOvgQLJfq6eQAQAA"},"shape":[50],"dtype":"float64","order":"little"}],["y",[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49]],["town",{"type":"ndarray","array":["Blackpool","Rhyl","Prestatyn","Colne","Tredegar","Fishguard","Nelson","Pwllheli","Ebbw Vale","Machynlleth","Hartlepool","Mountain Ash","Wansbeck","Accrington","Cardigan","Workington","Bargoed","Newtown","Whitehaven","Bishop Auckland","Ashington","Caernarfon","Burnley","Merthyr Tydfil","Blyth","Milford Haven","Blackwood","Morecambe","Welshpool","Consett","Darwen","Bangor","Aberdare","Brecon","Blackburn","Aberystwyth","Haverfordwest","Barrow-in-Furness","Llandudno","Caerphilly","Penrith","Pontypridd","Carlisle","Abergavenny","Lancaster","Darlington","Hexham","Preston","Cramlington","Durham"],"shape":[50],"dtype":"object","order":"little"}],["salary",["\u00a330,390","\u00a330,364","\u00a330,606","\u00a330,684","\u00a330,650","\u00a330,288","\u00a331,015","\u00a330,621","\u00a330,976","\u00a330,637","\u00a330,759","\u00a331,301","\u00a331,573","\u00a331,449","\u00a330,899","\u00a330,876","\u00a331,769","\u00a331,158","\u00a331,058","\u00a331,475","\u00a331,974","\u00a331,390","\u00a331,859","\u00a331,705","\u00a332,304","\u00a331,588","\u00a332,240","\u00a331,701","\u00a331,932","\u00a332,102","\u00a331,871","\u00a331,978","\u00a332,266","\u00a332,146","\u00a332,672","\u00a332,048","\u00a332,277","\u00a332,259","\u00a332,771","\u00a333,170","\u00a332,876","\u00a333,452","\u00a333,057","\u00a333,404","\u00a333,315","\u00a333,724","\u00a333,959","\u00a334,164","\u00a334,503","\u00a334,650"]],["commute_pct",["9.9%","6.5%","4.9%","5.8%","6.2%","1.2%","6.4%","1.5%","6.8%","2.2%","3.9%","7.5%","12.1%","8.4%","1.5%","1.2%","11.8%","2.7%","0.9%","4.6%","12.9%","2.6%","9.0%","8.0%","14.1%","1.5%","12.3%","2.9%","2.6%","5.6%","3.2%","2.6%","8.2%","2.7%","10.3%","1.0%","1.4%","0.9%","4.5%","13.4%","1.7%","10.0%","1.4%","4.7%","2.2%","6.1%","4.7%","7.8%","10.1%","5.6%"]]]}}},"view":{"type":"object","name":"CDSView","id":"p1123","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1124"}}},"glyph":{"type":"object","name":"Scatter","id":"p1119","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":8},"line_color":{"type":"value","value":"#00A3C7"},"line_alpha":{"type":"value","value":0.8},"fill_color":{"type":"value","value":"#00A3C7"},"fill_alpha":{"type":"value","value":0.8},"hatch_color":{"type":"value","value":"#00A3C7"},"hatch_alpha":{"type":"value","value":0.8}}},"nonselection_glyph":{"type":"object","name":"Scatter","id":"p1120","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":8},"line_color":{"type":"value","value":"#00A3C7"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"#00A3C7"},"fill_alpha":{"type":"value","value":0.1},"hatch_color":{"type":"value","value":"#00A3C7"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Scatter","id":"p1121","attributes":{"x":{"type":"field","field":"x"},"y":{"type":"field","field":"y"},"size":{"type":"value","value":8},"line_color":{"type":"value","value":"#00A3C7"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"#00A3C7"},"fill_alpha":{"type":"value","value":0.2},"hatch_color":{"type":"value","value":"#00A3C7"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1071","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1085"},{"type":"object","name":"WheelZoomTool","id":"p1086","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1087","attributes":{"dimensions":"both","overlay":{"type":"object","name":"BoxAnnotation","id":"p1088","attributes":{"syncable":false,"line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","handles":{"type":"object","name":"BoxInteractionHandles","id":"p1094","attributes":{"all":{"type":"object","name":"AreaVisuals","id":"p1093","attributes":{"fill_color":"white","hover_fill_color":"lightgray"}}}}}}}},{"type":"object","name":"SaveTool","id":"p1095"},{"type":"object","name":"ResetTool","id":"p1096"},{"type":"object","name":"HelpTool","id":"p1097"},{"type":"object","name":"HoverTool","id":"p1125","attributes":{"renderers":[{"id":"p1113"}],"tooltips":[["Town","@town"],["Original Salary","@salary"]],"sort_by":null}},{"type":"object","name":"HoverTool","id":"p1126","attributes":{"renderers":[{"id":"p1122"}],"tooltips":[["Town","@town"],["With Commuting","@salary"],["Commuting %","@commute_pct"]],"sort_by":null}}]}},"toolbar_location":"above","left":[{"type":"object","name":"CategoricalAxis","id":"p1080","attributes":{"ticker":{"type":"object","name":"CategoricalTicker","id":"p1081"},"formatter":{"type":"object","name":"CategoricalTickFormatter","id":"p1082"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1083"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1075","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1076","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1077"},"axis_label":"Average Salary (\u00a3)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1078"}}}],"center":[{"type":"object","name":"Grid","id":"p1079","attributes":{"axis":{"id":"p1075"}}},{"type":"object","name":"Grid","id":"p1084","attributes":{"dimension":1,"axis":{"id":"p1080"}}},{"type":"object","name":"Legend","id":"p1129","attributes":{"location":"bottom_right","items":[{"type":"object","name":"LegendItem","id":"p1127","attributes":{"label":{"type":"value","value":"Original Salary"},"renderers":[{"id":"p1113"}]}},{"type":"object","name":"LegendItem","id":"p1128","attributes":{"label":{"type":"value","value":"With Commuting"},"renderers":[{"id":"p1122"}]}}]}}]}},{"type":"object","name":"Div","id":"p1130","attributes":{"width":300,"height":100,"text":"\n    &lt;div style=\"background-color: #F39200; opacity: 0.9; padding: 10px; border-radius: 5px; width: 250px;\"&gt;\n        &lt;b&gt;Statistics:&lt;/b&gt;&lt;br&gt;\n        Avg salary change: \u00a3338&lt;br&gt;\n        Max salary change: \u00a3890&lt;br&gt;\n        Towns analyzed: 50\n    &lt;/div&gt;\n"}}]}}]}},{"type":"object","name":"Column","id":"p1139","attributes":{"children":[{"type":"object","name":"Slider","id":"p1131","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"type":"object","name":"CustomJS","id":"p1138","attributes":{"args":{"type":"map","entries":[["source_logistic",{"id":"p1006"}],["source_orig",{"id":"p1009"}],["source_new",{"id":"p1012"}],["source_seg",{"id":"p1015"}],["slider_w_diff",{"id":"p1131"}],["slider_bw",{"type":"object","name":"Slider","id":"p1132","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1138"}]]]},"title":"Higher wage desire (\u03b2_w)","bar_color":"#E93F6F","start":0.001,"end":0.7,"value":0.28,"step":0.01}}],["slider_bt",{"type":"object","name":"Slider","id":"p1133","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1138"}]]]},"title":"Commute time intolerance (\u03b2_t)","bar_color":"#E93F6F","start":0.001,"end":0.06,"value":0.0375,"step":0.001}}],["slider_bc",{"type":"object","name":"Slider","id":"p1134","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1138"}]]]},"title":"Travel price tolerance (\u03b2_c)","bar_color":"#E93F6F","start":-0.1,"end":-0.0005,"value":-0.0005,"step":0.0005}}],["slider_bp",{"type":"object","name":"Slider","id":"p1135","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1138"}]]]},"title":"Population preference (\u03b2_p)","bar_color":"#E93F6F","start":0.1,"end":0.8,"value":0.3,"step":0.05}}],["slider_gamma",{"type":"object","name":"Slider","id":"p1136","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1138"}]]]},"title":"Constant (\u03b3)","bar_color":"#E93F6F","start":-10.0,"end":3.0,"value":-6,"step":0.1}}],["slider_time",{"type":"object","name":"Slider","id":"p1137","attributes":{"js_property_callbacks":{"type":"map","entries":[["change:value",[{"id":"p1138"}]]]},"title":"Travel time reduction (%)","bar_color":"#E93F6F","start":0,"end":50,"value":0}}],["town_data",{"type":"map","entries":[["towns",["Blackpool","Burnley","Accrington","Nelson","Colne","Darwen","Blackburn","Preston","Lancaster","Morecambe","Barrow-in-Furness","Workington","Whitehaven","Carlisle","Penrith","Hartlepool","Darlington","Bishop Auckland","Durham","Consett","Hexham","Blyth","Cramlington","Ashington","Wansbeck","Rhyl","Prestatyn","Llandudno","Bangor","Caernarfon","Pwllheli","Aberystwyth","Cardigan","Haverfordwest","Milford Haven","Fishguard","Newtown","Welshpool","Machynlleth","Brecon","Merthyr Tydfil","Aberdare","Mountain Ash","Pontypridd","Caerphilly","Bargoed","Blackwood","Tredegar","Ebbw Vale","Abergavenny"]],["regions",["Lancashire","Lancashire","Lancashire","Lancashire","Lancashire","Lancashire","Lancashire","Lancashire","Lancashire","Lancashire","Cumbria","Cumbria","Cumbria","Cumbria","Cumbria","County Durham","County Durham","County Durham","County Durham","County Durham","Northumberland","Northumberland","Northumberland","Northumberland","Northumberland","Denbighshire","Denbighshire","Conwy","Gwynedd","Gwynedd","Gwynedd","Ceredigion","Pembrokeshire","Pembrokeshire","Pembrokeshire","Pembrokeshire","Powys","Powys","Powys","Powys","Rhondda Cynon Taf","Rhondda Cynon Taf","Rhondda Cynon Taf","Rhondda Cynon Taf","Caerphilly","Caerphilly","Caerphilly","Blaenau Gwent","Blaenau Gwent","Monmouthshire"]],["original_salaries",[29500,31200,30800,30500,30200,31800,32000,33800,33200,31500,32200,30800,31000,33000,32800,30500,33500,31200,34500,31800,33800,31500,34200,31200,30800,29800,30200,32500,31800,31200,30500,32000,30800,32200,31500,30200,31000,31800,30500,32000,31200,31800,30800,33000,32500,31000,31500,30200,30500,33200]],["city_salaries",[38500,38500,38500,38500,38500,34000,38500,38500,38500,38500,38500,37200,37200,37200,37200,37200,37200,37200,37200,37200,37200,37200,37200,37200,37200,38500,38500,38500,38500,38500,38500,36800,37500,37500,37500,37500,36800,36800,36800,37500,37500,37500,37500,37500,37500,37500,37500,37500,37500,37500]],["salary_differences",[9000,7300,7700,8000,8300,2200,6500,4700,5300,7000,6300,6400,6200,4200,4400,6700,3700,6000,2700,5400,3400,5700,3000,6000,6400,8700,8300,6000,6700,7300,8000,4800,6700,5300,6000,7300,5800,5000,6300,5500,6300,5700,6700,4500,5000,6500,6000,7300,7000,4300]],["train_times",[75,65,70,80,85,45,55,50,90,95,120,110,115,90,85,80,45,70,40,60,50,35,25,40,45,85,90,75,95,100,120,110,105,95,100,115,90,85,100,80,55,50,60,35,30,45,40,70,65,55]],["nearest_cities",["Manchester","Manchester","Manchester","Manchester","Manchester","Bolton","Manchester","Manchester","Manchester","Manchester","Manchester","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Newcastle","Manchester","Manchester","Manchester","Manchester","Manchester","Manchester","Birmingham","Cardiff","Cardiff","Cardiff","Cardiff","Birmingham","Birmingham","Birmingham","Cardiff","Cardiff","Cardiff","Cardiff","Cardiff","Cardiff","Cardiff","Cardiff","Cardiff","Cardiff","Cardiff"]]]}],["p2",{"id":"p1062"}],["stats_div",{"id":"p1130"}]]},"code":"\n    // Get slider values\n    const w_diff = slider_w_diff.value;\n    const beta_w = slider_bw.value;\n    const beta_t = slider_bt.value;\n    const beta_c = slider_bc.value;\n    const beta_p = slider_bp.value;\n    const gamma = slider_gamma.value;\n    const time_reduction = slider_time.value;\n    \n    // Constants\n    const c_after = 10;\n    const P_L = 800000;\n    \n    // City populations\n    const city_pops = {\n        'Manchester': 800000, 'Leeds': 750000, 'Sheffield': 550000,\n        'Liverpool': 650000, 'Newcastle': 450000, 'York': 200000,\n        'Preston': 150000, 'Hull': 280000, 'Birmingham': 1100000,\n        'Cardiff': 380000, 'Bolton': 200000\n    };\n    \n    // Helper functions\n    function logistic(x) {\n        return 1 / (1 + Math.exp(-x));\n    }\n    \n    function compute_V(P_L, w_diff, t_after, c_after, beta_w, beta_t, beta_c, beta_p, gamma) {\n        return gamma + beta_w * (w_diff/1000) - beta_t * t_after - beta_c * c_after + beta_p * Math.log(P_L);\n    }\n    \n    // Update logistic curve\n    const t_data = source_logistic.data;\n    const t_vals = t_data['t'];\n    const p_vals = t_data['p'];\n    \n    for (let i = 0; i &lt; t_vals.length; i++) {\n        const V = compute_V(P_L, w_diff * 1000, t_vals[i], c_after, beta_w, beta_t, beta_c, beta_p, gamma);\n        p_vals[i] = logistic(V);\n    }\n    \n    // Update town data\n    const towns = town_data['towns'];\n    const orig_salaries = town_data['original_salaries'];\n    const city_salaries = town_data['city_salaries'];\n    const salary_diffs = town_data['salary_differences'];\n    const train_times = town_data['train_times'];\n    const cities = town_data['nearest_cities'];\n    \n    let results = [];\n    for (let i = 0; i &lt; towns.length; i++) {\n        const city_pop = city_pops[cities[i]] || 500000;\n        const adjusted_time = train_times[i] * (1 - time_reduction/100);\n        const V = compute_V(city_pop, salary_diffs[i], adjusted_time, c_after, beta_w, beta_t, beta_c, beta_p, gamma);\n        const p_commute = logistic(V);\n        const new_salary = p_commute * city_salaries[i] + (1 - p_commute) * orig_salaries[i];\n        \n        results.push({\n            town: towns[i],\n            original: orig_salaries[i],\n            new_salary: new_salary,\n            commute_pct: p_commute,\n            change: new_salary - orig_salaries[i]\n        });\n    }\n    \n    // Sort by original salary\n    results.sort((a, b) =&gt; a.original - b.original);\n    \n    // Update dumbbell sources\n    const orig_data = source_orig.data;\n    const new_data = source_new.data;\n    const seg_data = source_seg.data;\n    \n    orig_data['x'] = [];\n    orig_data['y'] = [];\n    orig_data['town'] = [];\n    orig_data['salary'] = [];\n    \n    new_data['x'] = [];\n    new_data['y'] = [];\n    new_data['town'] = [];\n    new_data['salary'] = [];\n    new_data['commute_pct'] = [];\n    \n    seg_data['x0'] = [];\n    seg_data['x1'] = [];\n    seg_data['y0'] = [];\n    seg_data['y1'] = [];\n    seg_data['color'] = [];\n    \n    let total_change = 0;\n    let max_change = -Infinity;\n    \n    for (let i = 0; i &lt; results.length; i++) {\n        const r = results[i];\n        \n        orig_data['x'].push(r.original);\n        orig_data['y'].push(i);\n        orig_data['town'].push(r.town);\n        orig_data['salary'].push('\u00a3' + r.original.toLocaleString());\n        \n        new_data['x'].push(r.new_salary);\n        new_data['y'].push(i);\n        new_data['town'].push(r.town);\n        new_data['salary'].push('\u00a3' + Math.round(r.new_salary).toLocaleString());\n        new_data['commute_pct'].push((r.commute_pct * 100).toFixed(1) + '%');\n        \n        seg_data['x0'].push(r.original);\n        seg_data['x1'].push(r.new_salary);\n        seg_data['y0'].push(i);\n        seg_data['y1'].push(i);\n        seg_data['color'].push(r.change &gt; 0 ? '#F39200' : (r.change &lt; 0 ? '#FF4444' : '#888888'));\n        \n        total_change += r.change;\n        max_change = Math.max(max_change, r.change);\n    }\n    \n    // Update y_range for dumbbell chart\n    p2.y_range.factors = results.map(r =&gt; r.town);\n    \n    // Update statistics\n    const avg_change = total_change / results.length;\n    stats_div.text = `\n        &lt;div style=\"background-color: #F39200; opacity: 0.9; padding: 10px; border-radius: 5px; width: 250px;\"&gt;\n            &lt;b&gt;Statistics:&lt;/b&gt;&lt;br&gt;\n            Avg salary change: \u00a3${Math.round(avg_change).toLocaleString()}&lt;br&gt;\n            Max salary change: \u00a3${Math.round(max_change).toLocaleString()}&lt;br&gt;\n            Towns analyzed: ${results.length}\n        &lt;/div&gt;\n    `;\n    \n    // Update title if time reduction is applied\n    if (time_reduction &gt; 0) {\n        p2.title.text = `Salary Impact of City Commuting (Travel Time -${time_reduction}%)`;\n    } else {\n        p2.title.text = 'Salary Impact of City Commuting';\n    }\n    \n    // Trigger updates\n    source_logistic.change.emit();\n    source_orig.change.emit();\n    source_new.change.emit();\n    source_seg.change.emit();\n"}}]]]},"title":"Avg wage difference (\u00a31k)","bar_color":"#E93F6F","start":-5,"end":30,"value":25.0,"step":0.5}},{"id":"p1132"},{"id":"p1133"},{"id":"p1134"},{"id":"p1135"},{"id":"p1136"},{"id":"p1137"}]}}]}}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('fcf70b82-2a71-470b-b09f-ba89034bf682').textContent;
              const render_items = [{"docid":"3d4c7838-d8b9-47d5-a027-fc12bcce2791","roots":{"p1142":"b08b3718-8f65-48f0-ae54-2cfa92f7bc5d"},"root_ids":["p1142"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
        else document.addEventListener("DOMContentLoaded", fn);
      })();
    </script>
  </body>
</html>